{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\N\\\\ecom\\\\src\\\\context\\\\SaleContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport Cookies from 'js-cookie';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SaleContext = /*#__PURE__*/createContext();\nconst AuthContext = /*#__PURE__*/createContext();\naxios.defaults.xsrfCookieName = 'csrftoken';\naxios.defaults.xsrfHeaderName = 'X-CSRFToken';\naxios.defaults.withCredentials = false;\nexport function useSaleContext() {\n  _s();\n  return useContext(SaleContext);\n}\n_s(useSaleContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport function SaleProvider({\n  children\n}) {\n  _s2();\n  const client = axios.create({\n    baseURL: 'http://127.0.0.1:8000'\n  });\n  const [saleinfo, setSaleinfo] = useState('');\n  const [sLoading, setSLoading] = useState(true);\n  const [currentDate, setCurrentDate] = useState(new Date());\n  const [sale_data, setSale_data] = useState();\n  const [sale_title, setSale_title] = useState();\n  const storedToken = Cookies.get('token');\n  const intervalId = setInterval(() => {\n    setCurrentDate(new Date());\n  });\n  function sale() {\n    const storedToken = Cookies.get('token');\n    const accessToken = JSON.parse(storedToken).access;\n    client.get('/api/sale/', {\n      credentials: 'include',\n      headers: {\n        Authorization: `Bearer ${accessToken}`\n      }\n    }).then(function (res) {\n      console.log(res.data);\n      setSaleinfo(res.data);\n    }).then(function (res) {\n      const sale_dat = saleinfo.find(e => e.start_date === '2023-12-27');\n      setSale_title(sale_dat.name);\n    });\n    console.log(saleinfo);\n  }\n  function salepsot(a) {\n    const storedToken = Cookies.get('token');\n    const accessToken = JSON.parse(storedToken).access;\n    client.post('/api/sale/', a, {\n      credentials: 'include',\n      headers: {\n        Authorization: `Bearer ${accessToken}`\n      }\n    }).then(function (res) {\n      console.log(res);\n    });\n  }\n  function salepatcht(a) {\n    const storedToken = Cookies.get('token');\n    const accessToken = JSON.parse(storedToken).access;\n    client.patch('/api/sale/', a, {\n      credentials: 'include',\n      headers: {\n        Authorization: `Bearer ${accessToken}`\n      }\n    }).then(function (res) {\n      console.log(res);\n    });\n  }\n  function saledeletet(a) {\n    const storedToken = Cookies.get('token');\n    const accessToken = JSON.parse(storedToken).access;\n    client.delete('/api/sale/', a, {\n      credentials: 'include',\n      headers: {\n        Authorization: `Bearer ${accessToken}`\n      }\n    }).then(function (res) {\n      console.log(res);\n    });\n  }\n  const fetchSale = async () => {\n    try {\n      setSLoading(true);\n      const response = await fetch('http://127.0.0.1:8000/api/sale/');\n      const data = await response.json();\n      setSaleinfo(data);\n      setSLoading(false);\n      const sale_dat = saleinfo.find(e => e.start_date === '2023-12-27');\n      setSale_title(sale_dat.name);\n      return data; // Return the fetched data\n    } catch (error) {\n      console.error('Error fetching data:', error);\n      setSLoading(false);\n\n      // Reject with the error\n      throw error;\n    }\n  };\n  useEffect(() => {\n    fetchSale();\n  }, [saleinfo]);\n  const value = {\n    saleinfo,\n    sLoading,\n    saledeletet,\n    salepsot,\n    sale_title,\n    salepatcht\n  };\n  return /*#__PURE__*/_jsxDEV(SaleContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 10\n  }, this);\n}\n_s2(SaleProvider, \"7ZvNFFsswHcbzJxw/BwuU9kU6Lo=\");\n_c = SaleProvider;\nvar _c;\n$RefreshReg$(_c, \"SaleProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","Cookies","axios","jsxDEV","_jsxDEV","SaleContext","AuthContext","defaults","xsrfCookieName","xsrfHeaderName","withCredentials","useSaleContext","_s","SaleProvider","children","_s2","client","create","baseURL","saleinfo","setSaleinfo","sLoading","setSLoading","currentDate","setCurrentDate","Date","sale_data","setSale_data","sale_title","setSale_title","storedToken","get","intervalId","setInterval","sale","accessToken","JSON","parse","access","credentials","headers","Authorization","then","res","console","log","data","sale_dat","find","e","start_date","name","salepsot","a","post","salepatcht","patch","saledeletet","delete","fetchSale","response","fetch","json","error","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Desktop/N/ecom/src/context/SaleContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport Cookies from 'js-cookie';\r\nimport axios from 'axios';\r\n\r\n\r\nconst SaleContext = createContext();\r\nconst AuthContext = createContext();\r\naxios.defaults.xsrfCookieName = 'csrftoken';\r\naxios.defaults.xsrfHeaderName = 'X-CSRFToken';\r\naxios.defaults.withCredentials = false;\r\n\r\nexport function useSaleContext() {\r\n  return useContext(SaleContext);\r\n}\r\n\r\nexport function SaleProvider({ children }) {\r\n\r\n\r\n    const client = axios.create({\r\n        baseURL: 'http://127.0.0.1:8000',\r\n      });\r\n    const [saleinfo,setSaleinfo]=useState('')\r\n    const [sLoading, setSLoading] = useState(true);\r\n    const [currentDate, setCurrentDate] = useState(new Date());\r\n    const [sale_data,setSale_data]=useState()\r\n    const [sale_title,setSale_title]=useState()\r\n    const storedToken = Cookies.get('token');\r\n    const intervalId = setInterval(() => {\r\n        setCurrentDate(new Date());\r\n      });\r\n\r\n    function sale() {\r\n        const storedToken = Cookies.get('token');\r\n        const accessToken = JSON.parse(storedToken).access;\r\n        client.get('/api/sale/',{ credentials:'include',headers: {\r\n          Authorization: `Bearer ${accessToken}`,\r\n        },}).then(function(res){\r\n          console.log(res.data)\r\n          setSaleinfo(res.data)\r\n          \r\n        }).then(function(res){\r\n            const sale_dat = saleinfo.find((e) =>e.start_date === '2023-12-27');\r\n            setSale_title(sale_dat.name)\r\n        })\r\n        console.log(saleinfo)\r\n      }\r\n  \r\n  \r\n\r\n\r\n  \r\n\r\n  function salepsot(a) {\r\n    const storedToken = Cookies.get('token');\r\n    const accessToken = JSON.parse(storedToken).access;\r\n    client.post('/api/sale/',a,{ credentials:'include',headers: {\r\n      Authorization: `Bearer ${accessToken}`,\r\n    },}).then(function(res){\r\n      console.log(res)\r\n    })\r\n  }\r\n\r\n\r\n  \r\n  function salepatcht(a) {\r\n    const storedToken = Cookies.get('token');\r\n    const accessToken = JSON.parse(storedToken).access;\r\n    client.patch('/api/sale/',a,{ credentials:'include',headers: {\r\n      Authorization: `Bearer ${accessToken}`,\r\n    },}).then(function(res){\r\n      console.log(res)\r\n    })\r\n  }\r\n\r\n  function saledeletet(a) {\r\n    const storedToken = Cookies.get('token');\r\n    const accessToken = JSON.parse(storedToken).access;\r\n    client.delete('/api/sale/',a,{ credentials:'include',headers: {\r\n      Authorization: `Bearer ${accessToken}`,\r\n    },}).then(function(res){\r\n      console.log(res)\r\n    })\r\n  }\r\n  const fetchSale = async () => {\r\n    try {\r\n      setSLoading(true);\r\n      const response = await fetch('http://127.0.0.1:8000/api/sale/',);\r\n      const data = await response.json();\r\n\r\n      setSaleinfo(data);\r\n      setSLoading(false);\r\n      const sale_dat = saleinfo.find((e) =>e.start_date === '2023-12-27');\r\n    \r\n      setSale_title(sale_dat.name)\r\n      return data; // Return the fetched data\r\n    } catch (error) {\r\n      console.error('Error fetching data:', error);\r\n      setSLoading(false);\r\n\r\n      // Reject with the error\r\n      throw error;\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    \r\n    fetchSale()\r\n      \r\n   }, [saleinfo]);\r\n\r\n   \r\n   \r\n\r\n   \r\n  const value = { saleinfo,sLoading,saledeletet,salepsot,sale_title,salepatcht,};\r\n\r\n\r\n  return <SaleContext.Provider value={value}>{children}</SaleContext.Provider>;\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}